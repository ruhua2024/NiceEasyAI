# 🧩 移动端组件库引用规范

## 📋 概述

移动端组件库基于 uView UI 作为主要组件库，提供丰富的 UI 组件和完善的功能支持。当 uView UI 无法满足特殊需求时，通过自定义组件进行补充，确保整个应用的组件风格一致性和功能完整性。

## 🎨 组件库选择策略

### 主要组件库：uView UI

**选择理由：**
- 专为 uniapp 设计，完美兼容全平台
- 60+ 精美组件，覆盖常用场景
- 详细的文档和丰富的示例
- 活跃的社区支持和持续更新
- 支持主题定制和深度自定义
- 性能优秀，体积合理

**官方资源：**
- 官网：https://www.uviewui.com/
- 文档：https://uviewui.com/components/intro.html
- GitHub：https://github.com/YanxinNet/uView
- 插件市场：https://ext.dcloud.net.cn/plugin?id=1593

### 备选方案：自定义组件

**使用场景：**
- uView UI 中没有对应组件
- 需要特殊的业务逻辑组件
- 品牌定制化要求较高的组件
- 性能要求极高的特定组件

## 📦 组件分类与选择

### 基础组件

| 组件类型 | uView 组件 | 自定义场景 | 优先级 |
|----------|------------|------------|--------|
| 按钮 | `u-button` | 特殊形状按钮 | uView 优先 |
| 输入框 | `u-input` | 特殊验证逻辑 | uView 优先 |
| 文本 | `u-text` | 特殊排版需求 | uView 优先 |
| 图片 | `u-image` | 特殊加载效果 | uView 优先 |
| 图标 | `u-icon` + Iconify | 品牌专属图标 | 混合使用 |

### 布局组件

| 组件类型 | uView 组件 | 自定义场景 | 优先级 |
|----------|------------|------------|--------|
| 栅格 | `u-row`, `u-col` | 特殊布局需求 | uView 优先 |
| 卡片 | `u-card` | 复杂卡片样式 | uView 优先 |
| 分割线 | `u-divider` | 特殊分割效果 | uView 优先 |
| 间距 | `u-gap` | 特殊间距需求 | uView 优先 |

### 导航组件

| 组件类型 | uView 组件 | 自定义场景 | 优先级 |
|----------|------------|------------|--------|
| 导航栏 | `u-navbar` | 复杂导航逻辑 | uView 优先 |
| 标签页 | `u-tabs` | 特殊标签样式 | uView 优先 |
| 底部导航 | `u-tabbar` | 特殊交互效果 | uView 优先 |
| 面包屑 | `u-breadcrumb` | 特殊层级显示 | uView 优先 |

### 表单组件

| 组件类型 | uView 组件 | 自定义场景 | 优先级 |
|----------|------------|------------|--------|
| 表单 | `u-form` | 复杂验证逻辑 | uView 优先 |
| 选择器 | `u-picker` | 特殊选择逻辑 | uView 优先 |
| 开关 | `u-switch` | 特殊开关样式 | uView 优先 |
| 滑块 | `u-slider` | 特殊滑动效果 | uView 优先 |
| 评分 | `u-rate` | 特殊评分样式 | uView 优先 |

### 反馈组件

| 组件类型 | uView 组件 | 自定义场景 | 优先级 |
|----------|------------|------------|--------|
| 弹窗 | `u-modal` | 复杂弹窗内容 | uView 优先 |
| 提示 | `u-toast` | 特殊提示样式 | uView 优先 |
| 加载 | `u-loading` | 品牌化加载动画 | 混合使用 |
| 空状态 | `u-empty` | 特殊空状态设计 | 混合使用 |

## 🔧 技术实现

### uView UI 安装与配置

#### 1. 安装 uView UI
```bash
# 通过 npm 安装
npm install uview-ui

# 或通过 HBuilderX 插件市场安装
# 搜索：uView UI
```

#### 2. 全局配置
```javascript
// main.js
import uView from 'uview-ui'
Vue.use(uView)

// App.vue
<style lang="scss">
@import 'uview-ui/index.scss';
</style>
```

#### 3. 按需引入（推荐）
```javascript
// 只引入需要的组件
import { Button, Input, Card } from 'uview-ui'

Vue.component('u-button', Button)
Vue.component('u-input', Input)
Vue.component('u-card', Card)
```

### 主题定制配置

#### 1. 全局主题配置

> **重要提示**：以下配置中的颜色值需要根据您选择的配色方案进行替换。请参考 [配色方案索引](./color/配色方案索引.md) 选择合适的配色方案。

```scss
// uni.scss - 覆盖 uView 默认主题（基于选择的配色方案）

// 主题颜色（需要根据选择的配色方案替换）
$u-primary: var(--primary-color);      // 主色调
$u-success: var(--secondary-color);    // 成功色（辅助色）
$u-warning: #FFB800;                   // 警告色（通用）
$u-error: var(--accent-color);         // 错误色（强调色）
$u-info: var(--primary-color);         // 信息色（主色调）

// 文字颜色（通用）
$u-main-color: #1A1A1A;     // 主要文字
$u-content-color: #666666;  // 内容文字
$u-tips-color: #999999;     // 提示文字
$u-light-color: #CCCCCC;    // 浅色文字

// 边框和背景（通用）
$u-border-color: #E5E5E5;   // 边框颜色
$u-bg-color: #F5F5F5;       // 背景颜色

// 间距（基于我们的 16rpx 网格系统）
$u-padding: 32rpx;          // 标准内边距
$u-margin: 32rpx;           // 标准外边距
$u-radius: 16rpx;           // 标准圆角
```

#### 配色方案变量定义

```scss
// 根据选择的配色方案定义 CSS 变量
// 示例：清新自然色彩体系
:root {
  --primary-color: #247BA0;    // 深海蓝
  --secondary-color: #70C1B3;  // 薄荷绿
  --accent-color: #FF1654;     // 活力红
  --neutral-light: #F3FFBD;    // 柠檬黄绿
  --neutral-dark: #B2DBBF;     // 淡雅绿
}

// 示例：海洋蓝绿色彩体系
:root {
  --primary-color: #05668D;    // 深海蓝
  --secondary-color: #00A896;  // 翠绿色
  --accent-color: #02C39A;     // 青绿色
  --neutral-light: #F0F3BD;    // 淡黄绿
  --neutral-dark: #A8DADC;     // 浅蓝灰
}

// 示例：温暖粉橘色彩体系
:root {
  --primary-color: #FFCDB2;    // 珊瑚粉
  --secondary-color: #FFB997;  // 蜜桃橘
  --accent-color: #8D5524;     // 深紫灰
  --neutral-light: #F8EDEB;    // 淡粉白
  --neutral-dark: #E8C2CA;     // 淡紫粉
}
```

#### 2. 组件级别定制

> **重要提示**：以下示例中的颜色值需要根据您选择的配色方案进行替换。

```vue
<template>
  <!-- 使用自定义主题的按钮 -->
  <u-button
    type="primary"
    :custom-style="buttonStyle"
    shape="circle"
    size="large"
  >
    确认提交
  </u-button>
</template>

<script>
export default {
  data() {
    return {
      buttonStyle: {
        // 使用 CSS 变量，自动适配选择的配色方案
        background: 'linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%)',
        border: 'none',
        borderRadius: '24rpx'
      }
    }
  }
}
</script>
```

#### 配色方案示例效果

**清新自然色彩体系效果：**
```css
background: linear-gradient(135deg, #247BA0 0%, #70C1B3 100%);
```

**海洋蓝绿色彩体系效果：**
```css
background: linear-gradient(135deg, #05668D 0%, #00A896 100%);
```

**温暖粉橘色彩体系效果：**
```css
background: linear-gradient(135deg, #FFCDB2 0%, #FFB997 100%);
```

### 自定义组件开发规范

#### 1. 组件目录结构
```
components/
├── custom/                 # 自定义组件目录
│   ├── brand-header/       # 品牌头部组件
│   │   ├── brand-header.vue
│   │   └── README.md
│   ├── data-chart/         # 数据图表组件
│   │   ├── data-chart.vue
│   │   └── README.md
│   └── business-card/      # 业务卡片组件
│       ├── business-card.vue
│       └── README.md
└── common/                 # 通用组件目录
    ├── loading-spinner/    # 自定义加载组件
    └── empty-state/        # 自定义空状态组件
```

#### 2. 自定义组件模板
```vue
<!-- components/custom/brand-header/brand-header.vue -->
<template>
  <view class="brand-header" :style="headerStyle">
    <view class="brand-header__left">
      <u-icon 
        v-if="showBack"
        name="arrow-left" 
        :size="48"
        color="#FFFFFF"
        @click="handleBack"
      ></u-icon>
    </view>
    
    <view class="brand-header__center">
      <u-text 
        :text="title" 
        type="primary"
        size="36"
        color="#FFFFFF"
        bold
      ></u-text>
    </view>
    
    <view class="brand-header__right">
      <slot name="right"></slot>
    </view>
  </view>
</template>

<script>
export default {
  name: 'BrandHeader',
  props: {
    title: {
      type: String,
      default: ''
    },
    showBack: {
      type: Boolean,
      default: true
    },
    backgroundColor: {
      type: String,
      default: '#247BA0'
    },
    height: {
      type: [Number, String],
      default: 88
    }
  },
  computed: {
    headerStyle() {
      return {
        backgroundColor: this.backgroundColor,
        height: this.height + 'rpx'
      }
    }
  },
  methods: {
    handleBack() {
      this.$emit('back')
      // 默认返回行为
      uni.navigateBack()
    }
  }
}
</script>

<style lang="scss" scoped>
.brand-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 32rpx;
  position: relative;
  
  &__left,
  &__right {
    width: 100rpx;
    display: flex;
    align-items: center;
  }
  
  &__right {
    justify-content: flex-end;
  }
  
  &__center {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}
</style>
```

## 📋 使用规范

### 组件选择原则

#### 1. 优先级顺序
1. **uView UI 现有组件** - 首选，确保一致性和稳定性
2. **uView UI 组合使用** - 通过组合实现复杂功能
3. **自定义组件** - 特殊需求时开发

#### 2. 选择标准
- **功能匹配度**：组件功能与需求高度匹配
- **性能表现**：组件性能满足应用要求
- **维护成本**：优先选择维护成本低的方案
- **扩展性**：组件具备良好的扩展能力

### 组件使用规范

#### 1. 属性使用
```vue
<!-- 正确：使用标准属性 -->
<u-button 
  type="primary" 
  size="large"
  shape="circle"
  :loading="isLoading"
>
  提交
</u-button>

<!-- 错误：使用非标准属性 -->
<u-button 
  color="#ff00ff" 
  width="200px"
>
  提交
</u-button>
```

#### 2. 事件处理
```vue
<!-- 正确：使用标准事件 -->
<u-input 
  v-model="value"
  @change="handleChange"
  @blur="handleBlur"
></u-input>

<!-- 错误：使用非标准事件 -->
<u-input 
  v-model="value"
  @custom-event="handleCustom"
></u-input>
```

#### 3. 样式定制
```vue
<!-- 正确：使用 custom-style 属性 -->
<u-card :custom-style="cardStyle">
  内容
</u-card>

<!-- 错误：直接修改组件样式 -->
<u-card class="my-custom-card">
  内容
</u-card>
```

## 🎨 组件主题定制

### 全局主题变量
```scss
// theme.scss - 全局主题配置
:root {
  // uView 主题变量覆盖
  --u-primary: #247BA0;
  --u-success: #70C1B3;
  --u-warning: #FFB800;
  --u-error: #FF1654;
  --u-info: #247BA0;
  
  // 自定义主题变量
  --brand-gradient: linear-gradient(135deg, #247BA0 0%, #70C1B3 100%);
  --brand-shadow: 0 4rpx 12rpx rgba(36, 123, 160, 0.2);
  --brand-radius: 16rpx;
}
```

### 组件样式覆盖
```scss
// 全局组件样式覆盖
.u-button {
  &--primary {
    background: var(--brand-gradient) !important;
    box-shadow: var(--brand-shadow);
    border-radius: var(--brand-radius) !important;
  }
}

.u-card {
  border-radius: var(--brand-radius) !important;
  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1);
}
```

## 📚 常用组件配置

### 按钮组件配置
```javascript
// 按钮预设配置
export const buttonPresets = {
  primary: {
    type: 'primary',
    size: 'large',
    shape: 'circle',
    customStyle: {
      background: 'linear-gradient(135deg, #247BA0 0%, #70C1B3 100%)',
      borderRadius: '24rpx'
    }
  },
  secondary: {
    type: 'default',
    size: 'large',
    shape: 'circle',
    customStyle: {
      borderColor: '#247BA0',
      color: '#247BA0',
      borderRadius: '24rpx'
    }
  }
}
```

### 表单组件配置
```javascript
// 表单预设配置
export const formPresets = {
  input: {
    border: 'bottom',
    clearable: true,
    customStyle: {
      fontSize: '28rpx',
      padding: '24rpx 0'
    }
  },
  textarea: {
    border: 'surround',
    autoHeight: true,
    customStyle: {
      borderRadius: '16rpx',
      padding: '24rpx'
    }
  }
}
```

## ✅ 最佳实践

### 1. 性能优化
- 使用按需引入，减少包体积
- 合理使用组件缓存机制
- 避免过度嵌套组件

### 2. 可维护性
- 建立组件使用清单和规范
- 统一团队的组件选择标准
- 定期更新组件库版本

### 3. 可访问性
- 确保组件支持键盘导航
- 为组件添加适当的 aria 属性
- 测试组件在不同设备上的表现

### 4. 扩展性
- 预留组件扩展接口
- 使用插槽机制增强灵活性
- 建立组件版本管理机制

---

🧩 **统一的组件库规范，确保应用界面的一致性和开发效率！**
