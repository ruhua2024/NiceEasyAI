# 移动APP原型设计框架

## 🆕 最新更新

### v1.2.0 - 2024年最新版本
- ✨ **新增全屏体验页面**：支持沉浸式界面展示，真正的全屏效果
- 🔄 **双模式页面系统**：示例模式学习 + 用户模式开发，一键切换
- 🎛️ **独立间距控制**：新增垂直间距配置，支持水平和垂直间距分别调整
- 🔧 **配置系统优化**：改进CSS变量系统，更精确的布局控制
- 🐛 **修复布局问题**：解决flexbox间距控制问题，确保配置生效
- 📱 **真实设备体验**：1:1还原iPhone 14 Pro尺寸（390px × 844px）
- 🎨 **界面优化**：改进全屏页面设计，移除冗余操作按钮
- 📚 **完善文档**：新增用户开发指南，详细的使用说明

## 📁 项目结构

```
mobile-prototype/
├── index.html                 # 主入口文件
├── config.css                 # 全局配置文件（缩放比例等）
├── config/
│   └── pages.js              # 页面配置文件
├── assets/
│   ├── css/
│   │   ├── base.css          # 基础样式和CSS变量
│   │   ├── components.css    # 组件样式（手机框、状态栏等）
│   │   └── pages.css         # 页面特定样式
│   ├── js/
│   │   ├── main.js           # 主要逻辑和初始化
│   │   ├── page-loader.js    # 页面加载器
│   │   └── component-manager.js # 组件管理器
│   └── images/               # 图片资源（待添加）
├── components/
│   ├── phone-frame.html      # 手机外框模板
│   ├── status-bar.html       # 系统状态栏
│   ├── header.html           # 应用标题栏
│   └── nav-bar.html          # 底部导航栏
├── pages/
│   ├── examples/             # 示例页面（学习参考）
│   │   ├── home.html         # 首页示例
│   │   ├── profile.html      # 个人页面示例
│   │   ├── settings.html     # 设置页面示例
│   │   └── full-screen.html  # 全屏体验示例
│   └── user/                 # 用户页面（实际开发）
│       └── README.md         # 用户开发指南
└── README.md                 # 项目说明文档
```

## 🚀 快速开始

### ⚠️ 重要：必须启动本地服务器

**为什么需要本地服务器？**

由于浏览器的安全策略（同源策略和CORS限制），直接双击打开HTML文件会导致：
- 无法使用 `fetch()` API 加载组件和页面文件
- 浏览器会阻止 `file://` 协议访问其他本地文件
- 页面会显示"页面加载失败"或一直显示加载状态

### 📂 正确的启动步骤

1. **切换到项目目录**（重要！）
```bash
cd mobile-prototype
```

2. **启动本地服务器**

**方法一：使用 VS Code Live Server（推荐）**
```
1. 在VS Code中打开 mobile-prototype 文件夹
2. 右键点击 index.html 文件
3. 选择 "Open with Live Server"
4. 浏览器会自动打开项目
```

**方法二：使用命令行**
```bash
# 使用Python
python -m http.server 8000

# 或使用Node.js
npx http-server

# 或使用PHP
php -S localhost:8000
```

3. **打开浏览器访问**
```
# Live Server 会自动打开浏览器
# 命令行方式需要手动访问：
http://localhost:8000
```

### ❌ 常见错误

**错误做法：**
```bash
# 在上级目录启动服务器
python -m http.server 8000
# 然后访问 http://localhost:8000/mobile-prototype/
```

这会导致JavaScript中的相对路径无法正确解析！

**正确做法：**
```bash
# 先cd到项目目录
cd mobile-prototype
# 再启动服务器
python -m http.server 8000
# 访问 http://localhost:8000
```

### 🧪 测试功能
- 点击右上角"展开模式"按钮测试展开功能
- 点击底部导航栏切换页面
- 在"我的"页面点击"设置"进入设置页面
- 在设置页面点击返回按钮回到"我的"页面
- 在首页点击"全屏体验"卡片进入沉浸式全屏页面
- 在全屏页面点击左上角返回按钮退出全屏模式

## 🔄 页面模式切换

框架提供了两种页面模式，方便学习和开发：

### 📚 示例模式（默认）
- **用途**：学习框架功能，查看完整示例
- **页面位置**：`pages/examples/` 目录
- **特点**：包含完整的功能演示和最佳实践

### 🛠️ 用户模式
- **用途**：实际项目开发，自定义页面内容
- **页面位置**：`pages/user/` 目录
- **特点**：空白目录，供用户自由创建页面

### 🔧 切换方法

在 `config/pages.js` 文件中修改 `pagesPath` 变量：

```javascript
// 示例模式（学习参考）
const pagesPath = 'examples';

// 用户模式（实际开发）
const pagesPath = 'user';
```

修改后刷新浏览器即可切换模式。

### 💡 推荐工作流程

1. **学习阶段**：使用示例模式了解框架功能
2. **开发准备**：复制示例文件到用户目录作为起点
3. **实际开发**：切换到用户模式，自定义页面内容
4. **参考对比**：开发过程中随时切换回示例模式查看实现方法

## 📝 添加新页面

1. 在对应的 `pages/examples/` 或 `pages/user/` 目录下创建新的HTML文件
2. 在 `config/pages.js` 中添加页面配置
3. 如果是一级页面，需要在 `navBarConfig` 中添加对应的导航项

## 🎨 自定义样式

- 修改 `assets/css/base.css` 中的CSS变量来改变主题色彩
- 在 `assets/css/pages.css` 中添加页面特定样式
- 在 `assets/css/components.css` 中修改组件样式

## 📱 响应式设计

框架自动适配不同屏幕尺寸：
- 小屏幕（≤480px）：1列布局
- 中等屏幕（481px-900px）：2列布局
- 大屏幕（901px-1350px）：3列布局
- 超大屏幕（≥1351px）：3列布局（当前页面数量）

## 🔧 技术特性

- ✅ 零依赖，纯HTML/CSS/JavaScript
- ✅ 模块化架构，易于维护
- ✅ 响应式设计，适配各种屏幕
- ✅ **可配置缩放**，支持全局大小调整
- ✅ **独立间距控制**，支持水平和垂直间距分别调整
- ✅ **双模式设计**，示例模式学习 + 用户模式开发
- ✅ 展开模式，查看完整内容
- ✅ 智能导航栏，支持激活状态
- ✅ **全屏体验页面**，支持沉浸式界面展示
- ✅ 组件化开发，高度可复用
- ✅ **真实手机尺寸**，1:1还原移动设备体验

## ⚙️ 缩放配置

### 🎛️ 快速调整显示大小

编辑 `config.css` 文件中的配置变量：

```css
:root {
    /* 修改这个值来调整所有手机的显示大小 */
    --global-scale: 0.8;  /* 80% 大小 */

    /* 修改这些值来调整手机水平间距 */
    --phone-gap-small: 20px;    /* 小屏幕间距 */
    --phone-gap-medium: 25px;   /* 中等屏幕间距 */
    --phone-gap-large: 30px;    /* 大屏幕间距 */
    --phone-gap-xlarge: 35px;   /* 超大屏幕间距 */

    /* 修改这个值来调整手机上下间距 */
    --phone-vertical-gap: 15px;  /* 手机上下间距 */
}
```

### 📏 推荐缩放比例

- **1.0** = 100% 原始大小（390px × 844px）
- **0.8** = 80% 缩小显示（312px × 675px）- **推荐**
- **0.6** = 60% 更小显示（234px × 506px）
- **1.2** = 120% 放大显示（468px × 1013px）

### 📏 间距配置说明

**水平间距（根据屏幕尺寸自适应）：**

| 屏幕尺寸 | 变量名 | 默认值 | 适用场景 |
|----------|--------|--------|----------|
| ≤ 480px | `--phone-gap-small` | 20px | 手机竖屏 |
| 481px-900px | `--phone-gap-medium` | 25px | 平板竖屏 |
| 901px-1350px | `--phone-gap-large` | 30px | 笔记本电脑 |
| ≥ 1351px | `--phone-gap-xlarge` | 35px | 大屏显示器 |

**垂直间距（统一控制）：**

| 变量名 | 默认值 | 推荐范围 | 使用场景 |
|--------|--------|----------|----------|
| `--phone-vertical-gap` | 15px | 10px-80px | 控制手机行与行之间的距离 |

### 💡 使用场景

**缩放比例：**
- **演示模式**：使用 0.6-0.8 在大屏幕上展示更多内容
- **开发模式**：使用 1.0 查看真实尺寸效果
- **细节检查**：使用 1.2 放大查看界面细节

**水平间距调整：**
- **紧凑布局**：减小间距值（15px-25px）展示更多内容
- **宽松布局**：增大间距值（40px-60px）突出单个手机
- **演示优化**：根据投影仪分辨率调整间距

**垂直间距调整：**
- **紧凑显示**：10px-20px，适合在有限空间展示更多行
- **标准显示**：30px-40px，平衡美观与空间利用
- **宽松显示**：50px-80px，适合演示和突出展示

## 🔧 故障排除

### Q: 页面显示"正在加载页面..."或"页面加载失败"
A: 检查以下几点：
1. **确保启动了本地服务器**：不能直接双击打开HTML文件
2. **确保cd到了项目目录**：必须在 `mobile-prototype` 目录下启动服务器
3. **检查浏览器控制台**：查看是否有CORS或网络错误
4. **确认访问地址**：应该是 `http://localhost:8000` 而不是 `http://localhost:8000/mobile-prototype/`

### Q: 导航栏不显示或点击无效
A: 检查以下几点：
1. **确保JavaScript文件正确加载**：查看浏览器控制台是否有错误
2. **检查页面配置**：确认 `config/pages.js` 中的配置正确
3. **验证图标库**：确保FontAwesome图标库正确加载

### Q: 展开模式不工作
A: 检查以下几点：
1. **确保JavaScript正确加载**：查看控制台是否有错误
2. **检查CSS样式**：确认展开模式的CSS样式已加载
3. **验证按钮事件**：确认模式切换按钮的点击事件正常

### Q: 样式显示异常
A: 检查以下几点：
1. **确保CSS文件路径正确**：检查 `assets/css/` 目录下的文件
2. **验证外部依赖**：确认FontAwesome图标库正确加载
3. **检查浏览器兼容性**：某些CSS特性可能需要较新的浏览器

### Q: 配置修改不生效
A: 检查以下几点：
1. **确保config.css正确引入**：检查HTML文件中的引用路径
2. **清除浏览器缓存**：强制刷新页面（Ctrl+F5 或 Cmd+Shift+R）
3. **检查CSS变量语法**：确保变量名和值的格式正确
4. **验证CSS优先级**：确保配置文件在其他CSS文件之前加载

### Q: 全屏页面显示异常
A: 检查以下几点：
1. **确保页面文件存在**：检查 `pages/full-screen.html` 文件
2. **检查页面配置**：确认 `config/pages.js` 中包含全屏页面配置
3. **验证CSS样式**：确认全屏页面的CSS样式正确加载

## 📄 许可证

MIT License - 可自由使用和修改
